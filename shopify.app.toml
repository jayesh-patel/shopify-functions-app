name = "X for Y Discount"
handle = "x-for-y-discount-app"
client_id = "${SHOPIFY_API_KEY}"
application_url = "${SHOPIFY_APP_URL}"
embedded = true
shopify_cli_min_version = "3.0.0"

[build]
command = "npm run build"
include = ["web", "extensions/x-for-y-discount"]

[access_scopes]
scopes = "read_products,write_products,write_discounts"

[auth]
redirect_urls = [
  "${SHOPIFY_APP_URL}/auth/callback",
  "${SHOPIFY_APP_URL}/api/auth/callback"
]

[webhooks]
api_version = "2024-10"
subscriptions = [
  { "topic" = "APP_UNINSTALLED", "uri" = "${SHOPIFY_APP_URL}/webhooks" }
]

[[extensions]]
type = "function"
name = "X for Y Discount Function"
handle = "x-for-y-discount"
path = "extensions/x-for-y-discount"
